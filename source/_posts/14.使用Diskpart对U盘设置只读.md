---
title: 使用Diskpart为你的U盘添加只读保护
date: 2025-11-21 20:20:10
updated: 2025-11-21 20:20:10
tags:
  - Windows
  - 教程
categories:
  - Windows
series: 14
description: Diskpart是一个强大的命令行磁盘管理工具，添加只读后非常适合在别人的电脑上传文件，而不用担心u盘里面的文件被木马病毒投毒
---


**Diskpart是一个强大的命令行磁盘管理工具**。在Windows 2000和之后的Windows操作系统包含该工具。它替代了fdisk。 这个命令在ReactOS中也可以使用。

在使用 **diskpart** 命令之前，必须先列出一个对象，然后选择一个对象以使其处于焦点状态。 对象具有焦点后，键入的任何 diskpart 命令都将对该对象执行

## 一、进入diskpart

在使用diskpart命令行工具前，必须先执行`diskpart`以进入diskpart模式。

```
Microsoft Windows [版本 10.0.19044.6575]
(c) Microsoft Corporation。保留所有权利。

C:\Users\Administrator>diskpart

Microsoft DiskPart 版本 10.0.19041.3636

Copyright (C) Microsoft Corporation.
在计算机上: DESKTOP-01PTJNV

DISKPART>
```

## 二、选择磁盘

**一、运行`列表磁盘`以查看可用磁盘**

```cmd
list disk
```

```cmd
DISKPART> list disk

  磁盘 ###  状态           大小     可用     Dyn  Gpt
  --------  -------------  -------  -------  ---  ---
  磁盘 0    联机              476 GB  1024 KB        *
  磁盘 1    联机               58 GB   299 MB

DISKPART>
```

**二、运行 `select disk $(磁盘号)` **

由于在我的电脑中，被操作U盘的磁盘号为1，因此我应当执行：

```cmd
select disk 1
```

```cmd
DISKPART> select disk 1

磁盘 1 现在是所选磁盘。

DISKPART>
```

现在你的所有操作都将会操作到所选磁盘上

## 三、操作磁盘属性

**一、查看磁盘属性**

```cmd
attributes disk
```

此时我的U盘没有写保护（只读）状态

```cmd
DISKPART> attributes disk
当前只读状态: 否
只读: 否
启动磁盘: 否
页面文件磁盘: 否
休眠文件磁盘: 否
故障转储磁盘: 否
群集磁盘  : 否

DISKPART>
```

**二、设置磁盘属性**

1. 设置写保护（只读）状态

```cmd
attributes disk set readonly
```

```cmd
DISKPART> attributes disk set readonly

已成功设置磁盘属性。

DISKPART> attributes disk
当前只读状态: 是
只读: 是
启动磁盘: 否
页面文件磁盘: 否
休眠文件磁盘: 否
故障转储磁盘: 否
群集磁盘  : 否

DISKPART>
```

**此时U盘的文件只读，不可修改，不可格式化**

2. 清除写保护状态

```
attributes disk clear readonly
```

```
DISKPART> attributes disk clear readonly

已成功清除磁盘属性。

DISKPART> attributes disk
当前只读状态: 否
只读: 否
启动磁盘: 否
页面文件磁盘: 否
休眠文件磁盘: 否
故障转储磁盘: 否
群集磁盘  : 否

DISKPART>
```

**此时就清除了U盘的写保护**

## 小结

如果不行，建议格式化到FAT32格式或者重新量产试试

如果还是没用，建议**换个U盘**吧

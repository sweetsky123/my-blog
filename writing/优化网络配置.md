`/etc/sysctl.conf`

```
net.core.default_qdisc=fq
net.ipv4.tcp_congestion_control=bbr
# 系统中允许打开的文件句柄的最大数量
fs.file-max = 1000000
# 每个用户可创建的inotify实例的最大数量
fs.inotify.max_user_instances = 8192
# 是否允许将TIME-WAIT套接字重新用于新的TCP连接
net.ipv4.tcp_tw_reuse = 1
# 系统中可用的本地端口范围
net.ipv4.ip_local_port_range = 1024 65535
# TCP接收缓冲区的最小、默认、最大值
net.ipv4.tcp_rmem = 16384 262144 8388608
# TCP发送缓冲区的最小、默认、最大值
net.ipv4.tcp_wmem = 32768 524288 16777216
#  监听套接字的最大连接数
net.core.somaxconn = 8192
# 发送缓冲区的最大值
net.core.rmem_max = 16777216
net.core.wmem_max = 16777216
#发送缓冲区的默认值
net.core.wmem_default = 2097152
# 系统中允许的最大TIME-WAIT套接字数量
net.ipv4.tcp_max_tw_buckets = 5000
# SYN队列的最大长度
net.ipv4.tcp_max_syn_backlog = 10240
net.core.netdev_max_backlog = 10240
#  网络设备接收队列的最大长度
net.ipv4.tcp_slow_start_after_idle = 0
# forward ipv4
net.ipv4.ip_forward = 1
net.ipv4.tcp_syncookies=1

```

然后执行命令`sysctl -p`生效配置
